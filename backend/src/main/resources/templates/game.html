<!doctype html>
<html lang="en">
<head th:insert="~{fragments/head :: htmlHead(~{::title},~{})}">
    <title th:text="${gameName}"></title>
</head>
<body class="min-h-screen text-neutral-950 flex flex-col">
<div class="h-full flex flex-col grow">
    <div th:replace="~{fragments/header}"></div>

    <div class="flex mt-12 gap-20 grow max-w-screen-xl w-full mx-auto">
        <main class="w-1/2">
            <article class="mb-10">
                <header class="w-full flex items-center mb-6">
                    <h1 th:text="${gameName}" class="font-bold text-4xl mr-8">Oszczędzanie wody</h1>

                    <div th:if="${points}" class="flex gap-2 items-center text-neutral-400">
                        <svg th:replace="~{fragments/icons/trophy}"></svg>
                        <p th:text="${points}" class="font-medium"> pkt</p>
                    </div>
                </header>

                <p th:text="${gameDescription}" class="mb-5 text-justify"></p>

                <p th:if="${coinReward}" class="font-medium mb-3 text-sm">Za ukończenie tej gry otrzymasz <span th:text="${coinReward} + ' monet'" class="text-green-500"></span>
                    <span
                            class="w-4 h-4 text-green-500 inline-block"><svg
                            th:replace="~{fragments/icons/coins}"></svg></span>
                </p>
                <a th:href="${requestURI} + '/play'"
                   class="max-w-xs w-full text-center block rounded-md py-2 px-4 bg-neutral-950 text-neutral-50">
                    Rozpocznij rozgrywkę
                </a>
            </article>

            <article>
                <header class="w-full flex items-center mb-6">
                    <h1 class="font-bold text-4xl mr-8">Ranking</h1>
                </header>

                <p th:if="${#lists.isEmpty(rankingData)}">Obecnie trochę tu pusto, ale możesz być pierwszy! Wystarczy, że ukończysz tą grę chociaż jeden raz.</p>
                <table th:unless="${#lists.isEmpty(rankingData)}" class="table-auto w-full">
                    <thead class="border-b border-neutral-950">
                    <tr class="font-medium">
                        <td class="pl-5">Użytkownik</td>
                        <td class="max-w-min text-center">Ilość monet</td>
                        <td class="pr-5 max-w-min text-right">Ilość punktów</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="rankingRow : ${rankingData}">
                        <td th:text="${rankingRow.username}" class="pl-5"></td>
                        <td th:text="${rankingRow.coins}" class="text-center"></td>
                        <td th:text="${rankingRow.score} + ' pkt'" class="pr-5 text-right"></td>
                    </tr>
                    </tbody>
                </table>
            </article>
        </main>

        <div class="w-1/2">
            <img th:src="@{${'/images/games/' + imageSlugName + '.jpg'}}" class="rounded-xl shadow-xl">
        </div>
    </div>
</div>
</body>
</html>